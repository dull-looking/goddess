{
  "_args": [
    [
      {
        "raw": "coffee@^3.3.2",
        "scope": null,
        "escapedName": "coffee",
        "name": "coffee",
        "rawSpec": "^3.3.2",
        "spec": ">=3.3.2 <4.0.0",
        "type": "range"
      },
      "/Applications/邓肯21/FE/egg-example/node_modules/egg-mock"
    ]
  ],
  "_cnpm_publish_time": 1495431617692,
  "_from": "coffee@^3.3.2",
  "_hasShrinkwrap": false,
  "_id": "coffee@3.3.2",
  "_location": "/coffee",
  "_nodeVersion": "6.10.2",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/coffee-3.3.2.tgz_1495431617614_0.9902133296709508"
  },
  "_npmUser": {
    "name": "popomore",
    "email": "sakura9515@gmail.com"
  },
  "_npmVersion": "3.10.10",
  "_phantomChildren": {},
  "_requested": {
    "raw": "coffee@^3.3.2",
    "scope": null,
    "escapedName": "coffee",
    "name": "coffee",
    "rawSpec": "^3.3.2",
    "spec": ">=3.3.2 <4.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/egg-mock"
  ],
  "_resolved": "http://registry.npm.taobao.org/coffee/download/coffee-3.3.2.tgz",
  "_shasum": "b4edcdb1c723952092a7d89daf34570da21d2689",
  "_shrinkwrap": null,
  "_spec": "coffee@^3.3.2",
  "_where": "/Applications/邓肯21/FE/egg-example/node_modules/egg-mock",
  "author": {
    "name": "popomore",
    "email": "sakura9515@gmail.com"
  },
  "bugs": {
    "url": "https://github.com/popomore/coffee/issues"
  },
  "ci": {
    "version": "4, 6, 7"
  },
  "dependencies": {
    "childprocess": "^2.0.2",
    "debug": "^2.6.8"
  },
  "description": "Test command line on nodejs",
  "devDependencies": {
    "autod": "^2.8.0",
    "egg-ci": "^1.6.0",
    "eslint": "^3.19.0",
    "eslint-config-egg": "^4.1.0",
    "istanbul": "0",
    "mm": "^2.1.0",
    "mocha": "2",
    "spy": "^1.0.0"
  },
  "directories": {},
  "dist": {
    "shasum": "b4edcdb1c723952092a7d89daf34570da21d2689",
    "size": 5882,
    "noattachment": false,
    "tarball": "http://registry.npm.taobao.org/coffee/download/coffee-3.3.2.tgz"
  },
  "engines": {
    "node": ">= 4.0.0"
  },
  "files": [
    "index.js",
    "lib"
  ],
  "gitHead": "b162bf6b0ad5378294f3e12e4fc96e2694abbc15",
  "homepage": "https://github.com/popomore/coffee",
  "keywords": [
    "test",
    "shell",
    "spawn",
    "fork",
    "child_process",
    "exec"
  ],
  "license": "MIT",
  "main": "index.js",
  "maintainers": [
    {
      "name": "fengmk2",
      "email": "fengmk2@gmail.com"
    },
    {
      "name": "popomore",
      "email": "sakura9515@gmail.com"
    }
  ],
  "name": "coffee",
  "optionalDependencies": {},
  "publish_time": 1495431617692,
  "readme": "# Coffee\n\nTest command line on Node.js.\n\n---\n\n[![NPM version](https://img.shields.io/npm/v/coffee.svg?style=flat)](https://npmjs.org/package/coffee)\n[![Build Status](https://img.shields.io/travis/popomore/coffee.svg?style=flat)](https://travis-ci.org/popomore/coffee)\n[![codecov.io](https://img.shields.io/codecov/c/github/popomore/coffee.svg?style=flat)](http://codecov.io/github/popomore/coffee?branch=master)\n[![NPM downloads](http://img.shields.io/npm/dm/coffee.svg?style=flat)](https://npmjs.org/package/coffee)\n\n## Install\n\n```\n$ npm install coffee -g\n```\n\n## Usage\n\nCoffee is useful for test command line in test frammework (like Mocha).\n\n```js\ndescribe('cat', function() {\n  it('should concat input', function(done) {\n    var coffee = require('coffee');\n    coffee.spawn('cat')\n    .write('1')\n    .write('2')\n    .expect('stdout', '12')\n    .expect('code', 0)\n    .end(done);\n  })\n})\n```\n\nYou can also use fork for spawning Node processes.\n\n```js\ncoffee.fork('/path/to/file.js', ['args '])\n.expect('stdout', '12\\n')\n.expect('stderr', '34\\n')\n.expect('code', 0)\n.end(done);\n```\n\nIn file.js\n\n```js\nconsole.log(12);\nconsole.error(34);\n```\n\n## Support multiple process coverage with istanbul\n\nCoffee will detect `istanbul` automatically, and generate coverage-{processId}.json, you should generate reporter by `istanbul report`.\n\n```bash\n$ rm -rf coverage\n$ istanbul cover --report none --print none node_modules/mocha/bin/_mocha -- -R spec -t 5000\n$ istanbul report text-summary json lcov\n=============================== Coverage summary ===============================\nState## ments   : 98.2% ( 109/111 )\nBranches     : 97.37% ( 37/38 )\nFunctions    : 100% ( 20/20 )\nLines        : 98.18% ( 108/110 )\n================================================================================\n```\n\n## API\n\n### coffee.spawn\n\nRun command using `child_process.spawn`, then return `Coffee` instance.\n\nArguments see [child_process.spawn](http://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options)\n\n### coffee.fork\n\nRun command using `child_process.fork`, then return `Coffee` instance.\n\nArguments see [child_process.fork](http://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options)\n\n### Coffee\n\nAssertion object\n\n#### coffee.expect(type, expected)\n\nAssert type with expected value, expected value can be string, regular expression, and array.\n\n```js\ncoffee.spawn('echo', ['abcdefg'])\n.expect('stdout', 'abcdefg')\n.expect('stdout', /^abc/)\n.expect('stdout', ['abcdefg', /abc/])\n.end(done);\n```\n\nAccept type: `stdout`, `stderr`, `code`, `error`\n\n#### coffee.notExpect(type, expected)\n\nThe opposite assertion of `expect`.\n\n#### coffee.write(data)\n\nWrite data to stdin, see example above.\n\n#### coffee.end(callback)\n\nCallback will be called after completing the assertion, the first argument is Error if throw exception.\n\n#### coffee.debug(level)\n\nWrite data to process.stdout and process.stderr for debug\n\n`level` can be\n\n- 0 (default): pipe stdout + stderr\n- 1: pipe stdout\n- 2: pipe stderr\n- false: disable\n\nAlternative you can use `COFFEE_DEBUG` env.\n\n#### coffee.coverage()\n\nIf you set false, coffee will not generate coverage.json, default: true.\n\n## LISENCE\n\nCopyright (c) 2015 popomore. Licensed under the MIT license.\n\n\n[istanbul]: https://github.com/gotwarlost/istanbul\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/popomore/coffee.git"
  },
  "scripts": {
    "autod": "autod",
    "ci": "npm run lint && npm run cov",
    "clean": "rm -rf coverage",
    "cov": "npm run cover && istanbul report --root coverage text-summary json lcov",
    "cover": "rm -rf coverage && istanbul cover --report none --print none node_modules/mocha/bin/_mocha -- -R spec -t 80000",
    "lint": "eslint index.js lib test",
    "test": "mocha -R spec -t 80000"
  },
  "version": "3.3.2"
}

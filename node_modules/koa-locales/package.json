{
  "_args": [
    [
      {
        "raw": "koa-locales@^1.5.2",
        "scope": null,
        "escapedName": "koa-locales",
        "name": "koa-locales",
        "rawSpec": "^1.5.2",
        "spec": ">=1.5.2 <2.0.0",
        "type": "range"
      },
      "/Applications/邓肯21/FE/egg-example/node_modules/egg-i18n"
    ]
  ],
  "_cnpm_publish_time": 1493281058477,
  "_from": "koa-locales@^1.5.2",
  "_hasShrinkwrap": false,
  "_id": "koa-locales@1.7.0",
  "_location": "/koa-locales",
  "_nodeVersion": "7.8.0",
  "_npmOperationalInternal": {
    "host": "packages-12-west.internal.npmjs.com",
    "tmp": "tmp/koa-locales-1.7.0.tgz_1493281058245_0.25279481266625226"
  },
  "_npmUser": {
    "name": "fengmk2",
    "email": "fengmk2@gmail.com"
  },
  "_npmVersion": "4.2.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "koa-locales@^1.5.2",
    "scope": null,
    "escapedName": "koa-locales",
    "name": "koa-locales",
    "rawSpec": "^1.5.2",
    "spec": ">=1.5.2 <2.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/egg-i18n"
  ],
  "_resolved": "http://registry.npm.taobao.org/koa-locales/download/koa-locales-1.7.0.tgz",
  "_shasum": "3e70184fc52daf34ff5fedc6cc270a986ef6440e",
  "_shrinkwrap": null,
  "_spec": "koa-locales@^1.5.2",
  "_where": "/Applications/邓肯21/FE/egg-example/node_modules/egg-i18n",
  "author": {
    "name": "fengmk2",
    "email": "m@fengmk2.com",
    "url": "https://fengmk2.com"
  },
  "bugs": {
    "url": "https://github.com/koajs/locales/issues",
    "email": "m@fengmk2.com"
  },
  "ci": {
    "version": "4, 6, 7"
  },
  "contributors": [
    {
      "name": "fengmk2",
      "email": "m@fengmk2.com",
      "url": "https://fengmk2.com"
    },
    {
      "name": "Haoliang Gao",
      "email": "sakura9515@gmail.com",
      "url": "https://github.com/popomore"
    },
    {
      "name": "闲耘™",
      "email": "hotoo.cn@gmail.com",
      "url": "https://github.com/hotoo"
    },
    {
      "name": "ermin.zem",
      "email": "harbin1053020115@gmail.com"
    }
  ],
  "dependencies": {
    "debug": "^2.6.0",
    "humanize-ms": "^1.2.0",
    "ini": "^1.3.4",
    "object-assign": "^4.1.0"
  },
  "description": "koa locales, i18n solution for koa",
  "devDependencies": {
    "autod": "2",
    "beautify-benchmark": "^0.2.4",
    "benchmark": "^2.1.3",
    "contributors": "*",
    "egg-ci": "^1.1.0",
    "eslint": "1",
    "istanbul": "*",
    "koa": "^1.2.4",
    "mm": "^2.0.0",
    "mocha": "*",
    "pedding": "^1.1.0",
    "supertest": "^2.0.1"
  },
  "directories": {},
  "dist": {
    "shasum": "3e70184fc52daf34ff5fedc6cc270a986ef6440e",
    "size": 5750,
    "noattachment": false,
    "tarball": "http://registry.npm.taobao.org/koa-locales/download/koa-locales-1.7.0.tgz"
  },
  "engines": {
    "node": ">=4.0.0"
  },
  "files": [
    "index.js"
  ],
  "gitHead": "043fab2b973818ae5df5b2769736afccd2e85419",
  "homepage": "https://github.com/koajs/locales",
  "keywords": [
    "koa-locales",
    "i18n",
    "locales",
    "koa-i18n",
    "koa"
  ],
  "license": "MIT",
  "main": "index.js",
  "maintainers": [
    {
      "name": "fengmk2",
      "email": "fengmk2@gmail.com"
    },
    {
      "name": "popomore",
      "email": "sakura9515@gmail.com"
    }
  ],
  "name": "koa-locales",
  "optionalDependencies": {},
  "publish_time": 1493281058477,
  "readme": "koa-locales\n=======\n\n[![NPM version][npm-image]][npm-url]\n[![build status][travis-image]][travis-url]\n[![Test coverage][cov-image]][cov-url]\n[![David deps][david-image]][david-url]\n[![npm download][download-image]][download-url]\n\nkoa locales, i18n solution for koa:\n\n1. All locales resources location on `options.dirs`.\n2. resources file supports: `*.js`, `*.json` and `*.properties`, see [examples](test/locales/).\n3. One api: `__(key[, value, ...])`.\n4. Auto detect request locale from `query`, `cookie` and `header: Accept-Language`.\n\n## Installation\n\n```bash\n$ npm install koa-locales --save\n```\n\n## Quick start\n\n```js\nconst koa = require('koa');\nconst locales = require('koa-locales');\n\nconst app = koa();\nconst options = {\n  dirs: [__dirname + '/locales', __dirname + '/foo/locales'],\n};\nlocales(app, options);\n```\n\n## API Reference\n\n### `locales(app, options)`\n\nPatch locales functions to koa app.\n\n- {Application} app: koa app instance.\n- {Object} options: optional params.\n  - {String} functionName: locale function name patch on koa context. Optional, default is `__`.\n  - {String} dirs: locales resources store directories. Optional, default is `['$PWD/locales']`.\n  - {String} defaultLocale: default locale. Optional, default is `en-US`.\n  - {String} queryField: locale field name on query. Optional, default is `locale`.\n  - {String} cookieField: locale field name on cookie. Optional, default is `locale`.\n  - {Object} localeAlias: locale value map. Optional, default is {}.\n  - {String|Number} cookieMaxAge: set locale cookie value max age. Optional, default is `1y`, expired after one year.\n\n```js\nlocales({\n  app: app,\n  dirs: [__dirname + '/app/locales'],\n  defaultLocale: 'zh-CN',\n});\n```\n\n#### Aliases\n\nThe key `options.localeAlias` allows to not repeat dictionary files, as you can configure to use the same file for *es_ES* for *es*, or *en_UK* for *en*.\n\n```js\nlocales({\n  localeAlias: {\n    es: es_ES,\n    en: en_UK,\n  },\n});\n```\n\n### `context.__(key[, value1[, value2, ...]])`\n\nGet current request locale text.\n\n```js\nfunction* home() {\n  this.body = {\n    message: this.__('Hello, %s', 'fengmk2'),\n  };\n}\n```\n\nExamples:\n\n```js\n__('Hello, %s. %s', 'fengmk2', 'koa rock!')\n=>\n'Hello fengmk2. koa rock!'\n\n__('{0} {0} {1} {1} {1}', ['foo', 'bar'])\n=>\n'foo foo bar bar bar'\n\n__('{a} {a} {b} {b} {b}', {a: 'foo', b: 'bar'})\n=>\n'foo foo bar bar bar'\n```\n\n## Usage on template\n\n```js\nthis.state.__ = this.__.bind(this);\n```\n\n[Nunjucks] example:\n\n```html\n{{ __('Hello, %s', user.name) }}\n```\n\n[Pug] example:\n\n```pug\np= __('Hello, %s', user.name)\n```\n\n[Koa-pug] integration:\n\nYou can set the property *locals* on the KoaPug instance, where the default locals are stored.\n\n```js\napp.use(async (ctx, next) => {\n  koaPug.locals.__ = ctx.__.bind(ctx);\n  await next();\n});\n```\n\n## Debugging\n\nIf you are interested on knowing what locale was chosen and why you can enable the debug messages from [debug].\n\nThere is two level of verbosity:\n\n```sh\n$ DEBUG=koa-locales node .\n```\nWith this line it only will show one line per request, with the chosen language and the origin where the locale come from (queryString, header or cookie).\n\n```sh\n$ DEBUG=koa-locales:silly node .\n```\nUse this level if something doesn't work as you expect. This is going to debug everything, including each translated line of text.\n\n## License\n\n[MIT](LICENSE)\n\n\n[nunjucks]: https://www.npmjs.com/package/nunjucks\n[debug]: https://www.npmjs.com/package/debug\n[pug]: https://www.npmjs.com/package/pug\n[koa-pug]: https://www.npmjs.com/package/koa-pug\n\n[npm-image]: https://img.shields.io/npm/v/koa-locales.svg?style=flat-square\n[npm-url]: https://npmjs.org/package/koa-locales\n[travis-image]: https://img.shields.io/travis/koajs/locales.svg?style=flat-square\n[travis-url]: https://travis-ci.org/koajs/locales\n[cov-image]: https://codecov.io/github/koajs/locales/coverage.svg?branch=master\n[cov-url]: https://codecov.io/github/koajs/locales?branch=master\n[david-image]: https://img.shields.io/david/koajs/locales.svg?style=flat-square\n[david-url]: https://david-dm.org/koajs/locales\n[download-image]: https://img.shields.io/npm/dm/koa-locales.svg?style=flat-square\n[download-url]: https://npmjs.org/package/koa-locales\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/koajs/locales.git",
    "web": "https://github.com/koajs/locales"
  },
  "scripts": {
    "autod": "autod -w --prefix '^'",
    "ci": "npm run lint && npm run cov",
    "contributors": "contributors -f plain -o AUTHORS",
    "cov": "istanbul cover _mocha -- -t 5000 test/*.test.js",
    "lint": "eslint .",
    "test": "eslint . && mocha -R spec -t 5000 test/*.test.js"
  },
  "version": "1.7.0"
}
